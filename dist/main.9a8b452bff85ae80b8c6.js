!function(){var e=document.getElementById("input-flight-startdate"),t=document.getElementById("input-flight-enddate"),n=document.getElementById("input-hotel-startdate"),a=document.getElementById("input-hotel-enddate"),i=document.getElementById("input-car-startdate"),r=document.getElementById("input-car-enddate"),o=document.getElementById("flight-button-search"),c=document.getElementById("flight-button-clear"),l=document.getElementById("hotel-button-search"),d=document.getElementById("hotel-button-clear"),u=document.getElementById("car-button-search"),m=document.getElementById("car-button-clear"),s=document.getElementById("input-from"),g=document.getElementById("input-to"),y=document.getElementById("button-hotel-stars"),h=document.getElementById("hotel-country-menu"),v=document.getElementById("button-hotel-country-menu"),E=document.getElementById("hotel-city-menu"),f=document.getElementById("button-hotel-city-menu"),L=document.getElementById("car-country-menu"),T=document.getElementById("button-car-country-menu"),p=document.getElementById("car-city-menu"),b=document.getElementById("button-car-city-menu"),H=new Date,I=document.getElementById("star1"),M=document.querySelectorAll(".star"),B=document.querySelectorAll(".type"),D=(document.getElementById("business"),document.getElementById("economy"),document.getElementById("button-car-type")),S={weekday:"long",year:"numeric",month:"long",day:"numeric"},k=[],C=[],w=[];fetch("https://namaztimes.kz/ru/api/country?type=json").then((function(e){return e.json()})).then((function(e){A(e),U(e)})).catch(console.log("Uncorrect data")).finally(console.log("Please check out your data"));var A=function(e){for(var t=function(){var e=a[n],t=document.createElement("a");t.className="dropdown-item",t.innerHTML=e;var i=document.createElement("li");h.appendChild(i),i.appendChild(t),t.addEventListener("click",(function(){v.innerHTML=e}))},n=0,a=Object.entries(e);n<a.length;n++)t()};fetch("https://namaztimes.kz/ru/api/cities?id=almaty&type=json").then((function(e){return e.json()})).then((function(e){j(e),N(e)})).catch(console.log("Uncorrect data")).finally(console.log("Please check out your data"));var j=function(e){for(var t=function(){var e=a[n],t=document.createElement("a");t.className="dropdown-item",t.innerHTML=e;var i=document.createElement("li");E.appendChild(i),i.appendChild(t),t.addEventListener("click",(function(){f.innerHTML=e}))},n=0,a=Object.entries(e);n<a.length;n++)t()},U=function(e){for(var t=function(){var e=a[n],t=document.createElement("a");t.className="dropdown-item",t.innerHTML=e;var i=document.createElement("li");L.appendChild(i),i.appendChild(t),t.addEventListener("click",(function(){T.innerHTML=e}))},n=0,a=Object.entries(e);n<a.length;n++)t()},N=function(e){for(var t=function(){var e=a[n],t=document.createElement("a");t.className="dropdown-item",t.innerHTML=e;var i=document.createElement("li");p.appendChild(i),i.appendChild(t),t.addEventListener("click",(function(){b.innerHTML=e}))},n=0,a=Object.entries(e);n<a.length;n++)t()};o.addEventListener("click",(function(){var n={flightStartDate:"",flightEndDate:"",flightFrom:"",flightTo:""},a=new Date(e.value),i=a.toLocaleDateString("en-US",S);n.flightStartDate=i;var r=new Date(t.value),c=r.toLocaleDateString("en-US",S);n.flightEndDate=c,n.flightFrom=s.value,n.flightTo=g.value,a.getTime()<=H.getTime()||r.getTime()<=a.getTime()?o.setAttribute("disabled",!0):o.removeAttribute("disabled"),console.log(n),s.value,g.value,k.push(n),localStorage.setItem("historyDataFlight",JSON.stringify(k))})),c.addEventListener("click",(function(){e.value="",t.value="",s.value="",g.value=""})),l.addEventListener("click",(function(){var e={hotelStartDate:"",hotelEndDate:"",starsAmount:"",hotelCountry:"",hotelCity:""};M.forEach((function(t){t.addEventListener("click",(function(){var n=t.getAttribute("value");e.starsAmount=n,y.innerHTML=t.innerHTML}))}));var t=new Date(n.value),i=t.toLocaleDateString("en-US",S),r=new Date(a.value),o=r.toLocaleDateString("en-US",S);e.hotelStartDate=i,e.hotelEndDate=o,t.getTime()<=H.getTime()||r.getTime()<=t.getTime()?l.setAttribute("disabled",!0):l.removeAttribute("disabled"),y.innerHTML,v.innerHTML,f.innerHTML,e.hotelCountry=v.innerHTML,e.hotelCity=f.innerHTML,C.push(e),localStorage.setItem("historyDataHotel",JSON.stringify(C))})),d.addEventListener("click",(function(){n.value="",a.value="",y.innerHTML=I.innerHTML,v.innerHTML="",f.innerHTML=""})),u.addEventListener("click",(function(){var e={carStartDate:"",carEndDate:"",carType:"",carCountry:"",carCity:""};B.forEach((function(t){t.addEventListener("click",(function(){var n=t.getAttribute("id");e.carType=n,D.innerHTML=t.innerHTML}))}));var t=new Date(i.value),n=t.toLocaleDateString("en-US",S);e.carStartDate=n;var a=new Date(r.value),o=a.toLocaleDateString("en-US",S);e.carEndDate=o,t.getTime()<=H.getTime()||a.getTime()<=t.getTime()?u.setAttribute("disabled",!0):u.removeAttribute("disabled"),D.innerHTML,T.innerHTML,b.innerHTML,e.carCountry=T.innerHTML,e.carCity=b.innerHTML,w.push(e),localStorage.setItem("historyDataCar",JSON.stringify(w))})),m.addEventListener("click",(function(){i.value="",r.value="",D.innerHTML="Business",T.innerHTML="",b.innerHTML=""}))}();