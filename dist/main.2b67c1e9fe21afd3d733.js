!function(){var e=document.getElementById("input-flight-startdate"),t=document.getElementById("input-flight-enddate"),n=document.getElementById("input-hotel-startdate"),o=document.getElementById("input-hotel-enddate"),a=document.getElementById("input-car-startdate"),c=document.getElementById("input-car-enddate"),r=document.getElementById("flight-button-search"),l=document.getElementById("flight-button-clear"),i=document.getElementById("hotel-button-search"),d=document.getElementById("hotel-button-clear"),u=document.getElementById("car-button-search"),m=document.getElementById("car-button-clear"),s=document.getElementById("input-from"),g=document.getElementById("input-to"),y=document.getElementById("button-hotel-stars"),h=document.getElementById("hotel-country-menu"),v=document.getElementById("button-hotel-country-menu"),f=document.getElementById("hotel-city-menu"),E=document.getElementById("button-hotel-city-menu"),L=document.getElementById("car-country-menu"),T=document.getElementById("button-car-country-menu"),p=document.getElementById("car-city-menu"),H=document.getElementById("button-car-city-menu"),I=new Date,D=document.getElementById("star1"),M=document.querySelectorAll(".star"),B=document.querySelectorAll(".type"),S=(document.getElementById("business"),document.getElementById("economy"),document.getElementById("button-car-type")),C={weekday:"long",year:"numeric",month:"long",day:"numeric"},b=[],k=[],w=[];fetch("https://namaztimes.kz/ru/api/country?type=json").then((function(e){return e.json()})).then((function(e){P(e),A(e)})).catch(console.log("Uncorrect data")).finally(console.log("Please check out your data"));var P=function(e){for(var t=function(){var e=o[n],t=document.createElement("a");t.className="dropdown-item",t.innerHTML=e;var a=document.createElement("li");h.appendChild(a),a.appendChild(t),t.addEventListener("click",(function(){v.innerHTML=e}))},n=0,o=Object.entries(e);n<o.length;n++)t()};fetch("https://namaztimes.kz/ru/api/cities?id=almaty&type=json").then((function(e){return e.json()})).then((function(e){j(e),U(e)})).catch(console.log("Uncorrect data")).finally(console.log("Please check out your data"));var j=function(e){for(var t=function(){var e=o[n],t=document.createElement("a");t.className="dropdown-item",t.innerHTML=e;var a=document.createElement("li");f.appendChild(a),a.appendChild(t),t.addEventListener("click",(function(){E.innerHTML=e}))},n=0,o=Object.entries(e);n<o.length;n++)t()},A=function(e){for(var t=function(){var e=o[n],t=document.createElement("a");t.className="dropdown-item",t.innerHTML=e;var a=document.createElement("li");L.appendChild(a),a.appendChild(t),t.addEventListener("click",(function(){T.innerHTML=e}))},n=0,o=Object.entries(e);n<o.length;n++)t()},U=function(e){for(var t=function(){var e=o[n],t=document.createElement("a");t.className="dropdown-item",t.innerHTML=e;var a=document.createElement("li");p.appendChild(a),a.appendChild(t),t.addEventListener("click",(function(){H.innerHTML=e}))},n=0,o=Object.entries(e);n<o.length;n++)t()};r.addEventListener("click",(function(){var n={flightStartDate:"",flightEndDate:"",flightFrom:"",flightTo:""},o=new Date(e.value),a=o.toLocaleDateString("en-US",C);n.flightStartDate=a,I.getTime()<=o.getTime()?console.log("Correct date"):console.log("Please write correct date");var c,r=new Date(t.value),l=r.toLocaleDateString("en-US",C);n.flightEndDate=l,r.getTime()>=I.getTime()?console.log("Correct date"):console.log("Please write correct date"),n.flightFrom=s.value,n.flightTo=g.value,console.log(n),s.value,g.value,b.push(n),c=document.querySelectorAll(".needs-validation"),Array.from(c).forEach((function(e){e.addEventListener("submit",(function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!1)})),console.log(checkValidation()),localStorage.setItem("historyDataFlight",JSON.stringify(b))})),l.addEventListener("click",(function(){e.value="",t.value="",s.value="",g.value=""})),i.addEventListener("click",(function(){var e={hotelStartDate:"",hotelEndDate:"",starsAmount:"",hotelCountry:"",hotelCity:""};M.forEach((function(t){t.addEventListener("click",(function(){var n=t.getAttribute("value");e.starsAmount=n,y.innerHTML=t.innerHTML}))}));var t=new Date(n.value),a=t.toLocaleDateString("en-US",C);e.hotelStartDate=a,I.getTime()<=t.getTime()?console.log("Correct date"):console.log("Please write correct date");var c=new Date(o.value),r=c.toLocaleDateString("en-US",C);e.hotelEndDate=r,c.getTime()>=I.getTime()?console.log("Correct date"):console.log("Please write correct date"),y.innerHTML,v.innerHTML,E.innerHTML,e.hotelCountry=v.innerHTML,e.hotelCity=E.innerHTML,k.push(e),localStorage.setItem("historyDataHotel",JSON.stringify(k)),t&&c&&y&&v&&E&&(i.disabled=!1)})),d.addEventListener("click",(function(){n.value="",o.value="",y.innerHTML=D.innerHTML,v.innerHTML="",E.innerHTML=""})),u.addEventListener("click",(function(){var e={carStartDate:"",carEndDate:"",carType:"",carCountry:"",carCity:""};B.forEach((function(t){t.addEventListener("click",(function(){var n=t.getAttribute("id");e.carType=n,S.innerHTML=t.innerHTML}))}));var t=new Date(a.value),n=t.toLocaleDateString("en-US",C);e.carStartDate=n,I.getTime()<=t.getTime()?console.log("Correct date"):console.log("Please write correct date");var o=new Date(c.value),r=o.toLocaleDateString("en-US",C);e.carEndDate=r,o.getTime()>=I.getTime()?console.log("Correct date"):console.log("Please write correct date"),S.innerHTML,T.innerHTML,H.innerHTML,e.carCountry=T.innerHTML,e.carCity=H.innerHTML,w.push(e),localStorage.setItem("historyDataCar",JSON.stringify(w)),t&&o&&S&&T&&H&&(u.disabled=!1)})),m.addEventListener("click",(function(){a.value="",c.value="",S.innerHTML="Business",T.innerHTML="",H.innerHTML=""}))}();